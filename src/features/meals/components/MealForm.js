import React, { useState, useEffect } from "react"; const MealForm = ({ onAddMeal, onUpdateMeal, editingMeal }) => { const [formData, setFormData] = useState({ name: "", calories: "", protein: "", carbs: "", fats: "", date: new Date().toISOString().split("T")[0], time: "" }); useEffect(() => { if (editingMeal) { setFormData(editingMeal); } }, [editingMeal]); const handleSubmit = (e) => { e.preventDefault(); if (editingMeal) { onUpdateMeal(formData); } else { onAddMeal(formData); } }; return ( <form onSubmit={handleSubmit} className="meal-form"> <div className="form-group"> <label>Date:</label> <input type="date" name="date" value={formData.date} required /> </div> <div className="form-group"> <label>Time:</label> <input type="time" name="time" value={formData.time} required /> </div> <div className="form-group"> <label>Meal Name:</label> <input type="text" name="name" value={formData.name} required /> </div> <button type="submit">{editingMeal ? "Update" : "Add"} Meal</button> </form> ); }; export default MealForm;
